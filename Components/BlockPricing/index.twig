<flynt-component name="BlockPricing">
  <div class="pricing" id="pricing">
    <div class="section-container">
      <div class="section-header">
        <div class="section-label">Pricing</div>
        <h2 class="section-title">Simple, transparent pricing</h2>
        <p class="section-description">
          Start with a free trial. No credit card required.
        </p>
      </div>

      <div class="billing-toggle">
        {% set billing_options = [
          { value: 'monthly',   label: 'Monthly',   discount: null },
          { value: 'quarterly', label: 'Quarterly', discount: '-15%' },
          { value: 'yearly',    label: 'Yearly',    discount: '-30%' },
        ] %}
        {% for option in billing_options %}
          <button class="billing-option{{ loop.first ? ' active' : '' }}" data-billing="{{ option.value }}">
            {{ option.label }}
            {% if option.discount %}
              <span class="discount-badge">{{ option.discount }}</span>
            {% endif %}
          </button>
        {% endfor %}
      </div>

      <div class="pricing-grid">
        {% set plans = [
          {
            name: 'Starter',
            price: 'Free',
            currency: '',
            period: '',
            id: null,
            featured: false,
            billed: '',
            savings: '',
            description: 'Perfect for trying out the basics',
            cta: 'Get Started',
            features: [
              '10 beginner lessons',
              'Interactive fretboard',
              '5 songs with tabs',
              'Community access',
            ],
          },
          {
            name: 'Pro',
            price: '30',
            currency: '$',
            period: '/mo',
            id: 'proCard',
            featured: true,
            billed_id: 'proBilled',
            savings_id: 'proSavings',
            price_id: 'proPrice',
            billed: '',
            savings: '',
            description: 'For serious learners',
            cta: 'Start Free Trial',
            features: [
              'All 200+ video lessons',
              'Full song library (500+)',
              'AI feedback on playing',
              'Progress tracking',
              'Download lessons offline',
            ],
          },
          {
            name: 'Lifetime',
            price: '440',
            currency: '$',
            period: '',
            id: null,
            featured: false,
            billed: 'One-time payment',
            savings: 'Best value',
            description: 'Forever access, no recurring fees',
            cta: 'Get Lifetime Access',
            features: [
              'Everything in Pro',
              '1-on-1 coaching session',
              'Exclusive masterclasses',
              'Priority support',
              'All future updates',
            ],
          },
        ] %}

        {% for plan in plans %}
          <div class="pricing-card{{ plan.featured ? ' featured' : '' }}"{{ plan.id ? ' id="' ~ plan.id ~ '"' : '' }}>
            <div class="pricing-name">{{ plan.name }}</div>
            <div class="pricing-price">
              <span class="currency">{{ plan.currency }}</span>
              {% if plan.price_id is defined and plan.price_id %}
                <span id="{{ plan.price_id }}">{{ plan.price }}</span>
              {% else %}
                {{ plan.price }}
              {% endif %}
              {% if plan.period %}<span class="period">{{ plan.period }}</span>{% endif %}
            </div>
            <div class="pricing-billed"{{ plan.billed_id is defined and plan.billed_id ? ' id="' ~ plan.billed_id ~ '"' : '' }}>{{ plan.billed }}</div>
            <div class="pricing-savings"{{ plan.savings_id is defined and plan.savings_id ? ' id="' ~ plan.savings_id ~ '"' : '' }}>{{ plan.savings }}</div>
            <p class="pricing-description">{{ plan.description }}</p>
            <ul class="pricing-features">
              {% for feature in plan.features %}
                <li>{{ feature }}</li>
              {% endfor %}
            </ul>
            <a href="#" class="pricing-btn">{{ plan.cta }}</a>
          </div>
        {% endfor %}

      </div>
    </div>
  </div>
</flynt-component>
